<!DOCTYPE html>
<html lang="en">
<head>
  <title></title>
  <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
  <script src="https://telegram.org/js/games.js"></script>
  <link rel="stylesheet" href="assets/css/base.css">
</head>
<body>
<h2>Hello <span id="username" style="color: red;"></span>!<span id="appType" style="color: gray;"></span></h2>
<script src="assets/js/dynamic.js"></script>
<script>
  // mini app,
  let initDataRaw = window.Telegram.WebApp.initData;
  console.log(initDataRaw);

  let initData = window.Telegram.WebApp.initDataUnsafe;
  console.log(initData);

  let username = initData&&initData.user?initData.user.username:"unknown";
  console.log("username:", username);3

  if (username) {
    document.getElementById("username").textContent = username;
    document.getElementById("appType").textContent = " (mini app)";
  }
</script>

<script>
  // game
  let gameProxy = window.TelegramGameProxy;
  console.log("game proxy: ", gameProxy)
  let gameInitParams = gameProxy.initParams;
  console.log("game params: ", gameInitParams)
  if (gameInitParams.username) {
    document.getElementById("username").textContent = gameInitParams.username;
    document.getElementById("appType").textContent = " (game)";
  }
</script>
</body>
</html>
